<!DOCTYPE html>
<html lang="zxx">
    <head>
        <!-- Required meta tags -->
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"/>
        <!-- Bootstrap CSS -->
        <link rel="stylesheet" type="text/css" href="/assets/css/bootstrap.min.css"/>
        <!-- MeanMenu CSS -->
        <link rel="stylesheet" href="/assets/css/meanmenu.css"/>
        <!-- Boxicon CSS -->
        <link rel="stylesheet" href="/assets/css/boxicons.min.css"/>
        <!-- Flaticon CSS -->
        <link rel="stylesheet" type="text/css" href="/assets/css/flaticon.css"/>
        <!-- Magnific CSS -->
        <link rel="stylesheet" type="text/css" href="/assets/css/magnific-popup.css"/>
        <!-- Animate CSS -->
        <link rel="stylesheet" type="text/css" href="/assets/css/animate.min.css"/>
        <!-- Owl Carousel CSS -->
        <link rel="stylesheet" href="/assets/css/owl.carousel.min.css"/>
        <!-- Main CSS -->
        <link rel="stylesheet" href="/assets/css/style.css"/>
        <!-- Responsive CSS -->
        <link rel="stylesheet" href="/assets/css/responsive.css"/>
        
        <!-- Favicon -->
        <link rel="icon" type="image/png" href="/assets/images/fav.png"/>

        <!-- Tittle -->
        <title>Open Source Solutions</title>
    </head>

    <body>
        <!-- PreLoader Start -->
        <div class="loader-content">
            <div class="d-table">
                <div class="d-table-cell">
                    <div class="sk-folding-cube">
                        <div class="sk-cube1 sk-cube"></div>
                        <div class="sk-cube2 sk-cube"></div>
                        <div class="sk-cube4 sk-cube"></div>
                        <div class="sk-cube3 sk-cube"></div>
                    </div>
                </div>
            </div>
        </div>
        <!-- PreLoader End -->

         <!-- Header Area -->
         <header class="header-area" style="background-color: white;">
            <div class="container">
                <div class="row align-items-center">
                    <div class="col-lg-2 col-sm-0">
                        <div class="logo">
                            <a href="/"><img src="/assets/images/logo.bmp" alt="logo" /></a>
                        </div>
                    </div>
                    <div class="col-lg-8 col-sm-8 text-right pr-0">
                        <div class="header-content-right">
                            <ul class="header-contact">
                                <li><a href="tel:+966547737747"><i class="bx bxs-phone-call"></i> +966-547737747</a></li>
                                <li><a href="mailto:gm@opensource.sa"><i class="bx bxs-envelope"></i> gm@opensource.sa</a></li>
                            </ul>
                        </div>
                    </div>
                    <div class="col-lg-2 col-sm-4 text-right pl-0">
                        <div class="header-content-right">
                            <ul class="header-social">
                                <li>
                                    <a href="https://www.facebook.com/SmallServers/" target="_blank"><i class="bx bxl-facebook"></i></a>
                                </li>
                                <li>
                                    <a href="https://twitter.com/Small_Sys_Sol" target="_blank"><i class="bx bxl-twitter"></i></a>
                                </li>
                                <li>
                                    <a href="https://www.linkedin.com/company/small-systems-solutions/" target="_blank"> <i class="bx bxl-linkedin"></i></a>
                                </li>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>
        </header>
        <!-- End Header Area -->

        <!--Navbar Area -->
        <div class="navbar-area">
            <div class="mobile-nav">
                <a href="index.html" class="logo">
                    <img src="assets/images/logo.bmp" alt="logo" />
                </a>
            </div>

            <div class="main-nav">
                <div class="container">
                    <nav class="navbar navbar-expand-md navbar-light">
                        <div class="collapse navbar-collapse mean-menu" id="navbarSupportedContent">
                            <ul class="navbar-nav text-center">
                                <li class="nav-item">
                                    <a href="/index.html" class="nav-link active">Home</a>
                                    <ul class="dropdown-menu">
                                    </ul>
                                </li>
                                <li class="nav-item">
                                    <a href="#" class="nav-link dropdown-toggle">About</a>
                                    <ul class="dropdown-menu">
                                        <li class="nav-item">
                                        <a href="/about/about.html" class="nav-link">About us</a>
                                    </li>
                                    <li class="nav-item">
                                        <a href="/about/why-us.html" class="nav-link">Why Open Source?</a>
                                    </li>
                                    <li class="nav-item">
                                        <a href="/about/our-goal.html" class="nav-link">Our Goals</a>
                                    </li>
                                    </ul>
                                </li>
                                
                                <li class="nav-item">
                                    <a href="#" class="nav-link dropdown-toggle">Partners</a>
                                    <ul class="dropdown-menu">
                                        <li class="nav-item">
                                            <a href="/partners/redhat.html" class="nav-link">Red Hat</a>
                                        </li>
                                        <li class="nav-item">
                                            <a href="/partners/suse.html" class="nav-link">SuSE</a>
                                        </li>
                                        <li class="nav-item">
                                            <a href="/partners/oracle-linux.html" class="nav-link">Oracle Linux</a>
                                        </li>
                                        <li class="nav-item">
                                            <a href="/partners/next-cloud.html" class="nav-link">Nextcloud</a>
                                        </li>
                                        <li class="nav-item">
                                            <a href="/partners/zimbra.html" class="nav-link">Zimbra</a>
                                        </li>
                                        <li class="nav-item">
                                            <a href="/partners/sysdig.html" class="nav-link">Sysdig</a>
                                        </li>
                                        <li class="nav-item">
                                            <a href="/partners/others.html" class="nav-link">Other Open Source</a>
                                        </li>
                    
                                    </ul>
                                </li>
                                <li class="nav-item">
                                    <a href="solutions.html" class="nav-link dropdown-toggle">Solutions</a>
                                    <ul class="dropdown-menu">
                                        <li class="nav-item">
                                            <a href="/solutions/automation.html" class="nav-link">Automation & Management</a>
                                        </li>
                                        <li class="nav-item">
                                            <a href="/solutions/infra-monitoring.html" class="nav-link">Infrastructure Monitoring</a>
                                        </li>
                                        <li class="nav-item">
                                            <a href="/solutions/devops-monitoring.html" class="nav-link">DevOps Monitoring</a>
                                        </li>
                                        <li class="nav-item">
                                            <a href="/solutions/infra-security.html" class="nav-link">Infrastructure Security</a>
                                        </li>
                                        <li class="nav-item">
                                            <a href="/solutions/devops-security.html" class="nav-link">DevOps Security</a>
                                        </li>
                                    </ul>
                                </li>
                                <li class="nav-item">
                                    <a href="#" class="nav-link dropdown-toggle">Services</a>
                                    <ul class="dropdown-menu">
                                        <li class="nav-item">
                                            <a href="/services/consultation.html" class="nav-link">Technical Consultation and Assessments</a>
                                        </li>
                                        <li class="nav-item">
                                            <a href="/services/sourcing.html" class="nav-link">Sourcing and Onsite Support</a>
                                        </li>
                                    </ul>
                                </li>   
                                <li class="nav-item">
                                    <a href="#" class="nav-link dropdown-toggle">Training</a>
                                    <ul class="dropdown-menu">
                                        <li class="nav-item">
                                            <a href="/training/redhat-courses.html" class="nav-link">Red Hat Courses</a>
                                        </li>
                                        <li class="nav-item">
                                            <a href="/training/linux-adminstration.html" class="nav-link">Linux Administration</a>
                                        </li>
                                        <li class="nav-item">
                                            <a href="/training/linux-security.html" class="nav-link">Linux Security Hardening</a>
                                        </li>
                                        <li class="nav-item">
                                            <a href="/training/identity-mgt.html" class="nav-link">Identity Management</a>
                                        </li>
                                        <li class="nav-item">
                                            <a href="/training/high-performance.html" class="nav-link">High Performance Computing</a>
                                        </li>
                                    </ul>
                                </li>   
                                <li class="nav-item">
                                    <a href="#" class="nav-link dropdown-toggle">Resources</a>
                                    <ul class="dropdown-menu">
                                        <li class="nav-item">
                                            <a href="/resources/news/news.html" class="nav-link">News</a>
                                        </li>
                                        <li class="nav-item">
                                            <a href="/resources/blogs/blog.html" class="nav-link">Blog</a>
                                        </li>
                                    </ul>
                                </li>
                                <li class="nav-item">
                                    <a href="/faq.html" class="nav-link">FAQ</a>
                                </li>
                                <li class="nav-item">
                                    <a href="/contact.html" class="nav-link">Contact </a>
                                </li>
                            </ul>
                        </div>
                        <div class="nav-btn">
                            <a href="solutions.html" class="box-btn">Get Started</a>
                        </div>
                    </nav>
                </div>
            </div>
        </div>
        <!-- End Navbar Area -->

        <!-- Start Page Title Area -->
        <div class="page-title-area">
            <div class="container">
                <div class="page-title-content">
                    <h2>
                        <li class="active">Deduplication and Compression with Red Hat Linux 8 Using VDO</li>
                    </h2>
                    <ul>
                        <li>
                            <a href="index.html">
                                Home 
                            </a>
                        </li>

                        <li>Blog</li>

                        <li class="active">Deduplication and Compression with Red Hat Linux 8 Using VDO</li>
                    </ul>
                </div>
            </div>
            <div class="page-shape">
                <div class="shape1">
                    <img src="/assets/images/shape/1.png" alt="shape" />
                </div>
                <div class="shape3">
                    <img src="/assets/images/shape/3.png" alt="shape" />
                </div>
                <div class="shape4">
                    <img src="/assets/images/shape/4.png" alt="shape" />
                </div>
                <div class="shape5">
                    <img src="/assets/images/shape/5.png" alt="shape" />
                </div>
                <div class="shape6">
                    <img src="/assets/images/shape/6.png" alt="shape" />
                </div>
            </div>
        </div>
        <!-- End Page Title Area -->

        <!-- Start Blog Details Area -->
        <section class="blog-details-area ptb-100">
			<div class="container">
				<div class="row">
					<div class="col-lg-8 col-md-12">
						<div class="blog-details-desc">
							<div class="article-image">
								<img src="/assets/images/rhel8.png" alt="image">
							</div>

							
                            <div class="article-content">
								<div class="entry-meta">
									<ul>
										<li><span>Posted On:</span> <a href="#">March 10, 2020</a></li>
										<li><span>Posted By:</span> <a href="#">Admin</a></li>
									</ul>
								</div>

								<h3>Deduplication and Compression with Red Hat Linux 8 Using VDO</h3>

                                <div class="entry-content">
                                    <p>Virtual Data Optimizer (VDO) is a block virtualization technology that provides transparent deduplication of data. By eliminating redundant chunks of data, VDO can greatly reduce actual used disk capacity. The CentOS implementation of VDO is quite good, but there are some caveats to be aware of, especially when you want filesystems on VDO to come up automatically at boot. If you do it wrong, your system will not boot! So make sure to read all the way to the end to learn how to avoid ending up in this situation!</p>
                                    <p><strong>Used Commands</strong></p>
                                    <ul>
                                    <li>vdo – This command is used to create, remove, start, and stop VDO volumes, as well as performing other configuration changes.</li>
                                    <li>vdostats – This command is used to report on various aspects of VDO volumes, including effective reduction and physical volume utilization. Think of this as ‘df’ for VDO capacity.</li>
                                    </ul>
                                    <p><strong>To Use VSO in a Linux Server:</strong></p>
                                    <p>Install VDO:<br>
                                        <blockquote class="flaticon-quote">
                                            # yum -y install vdo</p>
                                        </blockquote>
                                    <p>Make sure you have a free block device (or create a new one) with 1GB in size<br>
                                        <blockquote class="flaticon-quote">

                                    # fdisk /dev/sdX&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; (where XX is your new block device or partition number).</p>
                                </blockquote>
                                    <p>Create the empty VDO volume on top of the new device that you just created<br>
                                        <blockquote class="flaticon-quote">
                                    # vdo create –name=vdo1 –device=/dev/sdX –vdoLogicalSize=3G –force</p>
                                </blockquote>

                                    <p>Here is a breakdown of the various options above:</p>
                                    <ul>
                                    <li>create – This is telling the VDO command what operation we want to do. You can use “remove” to remove the VDO volume.</li>
                                    <li>name=vdo1 – the name we want to give to your volume</li>
                                    <li>device=/dev/sdX – the underlying device we want to create the VDO volume.</li>
                                    <li>vdoLogicalSize=120G – Instruct VDO that the effective capacity we want to expose to the OS is 3GB. Though your physical device is only 1GB, we are assuming that we will get at least a 3:1 reduction from deduplication. For most data, this is pretty conservative, but if your data does not deduplicate well, then your ratio should be different. In general, log files and other plain text files will deduplicate very well, and you may get 10:1 or even higher deduplication rates. But binary files, and especially pre-compressed data such as video, audio, or compressed archives, will get far less than 3:1 or even 1:1 in some cases! Do not use VDO for this type of data.</li>
                                    </ul>
                                    <p>Now VDO has created a new Device Mapper device called /dev/mapper/vdo1. To investigate the New VDO Volume:<br>
                                        <blockquote class="flaticon-quote">
                                        # ls -l /dev/mapper/vdo1</p>
                                    </blockquote>

                                    <p>Check the created VDO volume size and free space.<br>
                                        <blockquote class="flaticon-quote">
                                        # vdostats –hu</p>
                                    </blockquote>

                                    <p>The –hu flag is shorthand for “–human-readable” and presents the data in a format that is a bit easier to read. From the output, we can see the Device Mapper name of the device, the size of the back-end storage device, how much data is used, how much capacity is available, and the percentage of space deduplication is saving us.</p>
                                    <p>Though we haven’t written any data yet, there is already 4GB, or 10%, of the volume in use. This is because the Universal Deduplication Index has already been written to disk. This is basically a database that keeps a record of slab fingerprints and their locations. This is what makes deduplication possible. Therefore, using VDO either on small back-end disks or with data that does not get at least 10% deduplication will actually be less efficient than using that storage as a regular volume.</p>
                                    <p>The system thinks that our underlying disk is 3GB, even though we know it is only 1GB large. Since the system has no idea what the size of the VDO back-end disk is, it is currently up to the system administrator to manage the disk capacity and ensure that the back-end disk does not fill up.</p>
                                    <p>Use the VDO Volume as a Normal Disk Device. Now that we have our VDO device created, we can partition it and put a filesystem on the partition, or even use it for an LVM volume. To format and mount the volume:<br>
                                        <blockquote class="flaticon-quote">
                                        # mkfs.xfs&nbsp; /dev/mapper/vdo1<br>
                                        # mkdir /vdo<br>
                                        # mount /dev/mapper/vdo1 /vdo</p>
                                    </blockquote>
                                    <p>Inspect the VDO Volume size before and after writing 500MB data to it<br>
                                        <blockquote class="flaticon-quote">
                                    # vdostats –hu<br>
                                    # dd if=/dev/zero of=/vdo1/newfile bs=1024 count=512000</p>
                                </blockquote>

                                    <p>See the disk utilization using the df command<br>
                                        <blockquote class="flaticon-quote">
                                        # df -h</p>
                                    </blockquote>
                                    <p>Not surprisingly, the ‘df’ output shows that the first file system is now using 3.5GB of space.</p>
                                    <p>When we delete files from the filesystem, VDO only delete the pointers to the deduplicated blocks, which are still on the back-end storage. Clearly this is not ideal. To reclaim the capacity that has been orphaned by deleting the files, we use the command fstrim.<br>
                                        <blockquote class="flaticon-quote">
                                        # fstrim /vdo1</p>
                                    </blockquote>

                                    <p>And now we see that our capacity on the VDO back-end volume has been reclaimed.<br>
                                        <blockquote class="flaticon-quote">
                                        # vdostats –hu</p>
                                    </blockquote>

                                    </div>
							</div>
							<div class="post-navigation">
								<div class="navigation-links">
									
                                    <div class="nav-previous">
										<a href="/resources/blogs/systemd.html"><i class='bx bx-left-arrow-alt'></i> Prev Post</a>
									</div>

									<div class="nav-next">
										<a href="/resources/blogs/podman-guide.html">Next Post <i class='bx bx-right-arrow-alt'></i></a>
									</div>
								</div>
							</div>
						</div>
					</div>

					<div class="col-lg-4 col-md-12">
						<aside class="widget-area" id="secondary">
							

							<section class="widget widget-peru-posts-thumb">
								<h3 class="widget-title">Popular Posts and News</h3>
								<div class="post-wrap">
									<article class="item">
										<div class="info">
											<time datetime="2020-06-30">March 10, 2020</time>
											<h4 class="title usmall">
												<a href="/resources/news/redhat-partnership.html">
													Open Source Solutions Renews its Premier Partnership with Red Hat
												</a>
											</h4>
										</div>
	
										<div class="clear"></div>
									</article>
	
									<article class="item">
										<div class="info">
											<time datetime="2020-06-30">March 10, 2020</time>
											<h4 class="title usmall">
												<a href="/resources/news/suse-partnership.html">
													Open Source Solutions is an Accredited SuSE Partner
												</a>
											</h4>
										</div>
	
										<div class="clear"></div>
									</article>
	
									<article class="item">
										<div class="info">
											<time datetime="2020-06-30">March  10, 2020</time>
											<h4 class="title usmall">
												<a href="/resources/blogs/deduplication.html">
													Deduplication and Compression with Red Hat Linux 8 Using VDO
												</a> 
											</h4>
										</div>
	
										<div class="clear"></div>
									</article>
									
									<article class="item">
										<div class="info">
											<time datetime="2020-06-30">March 10, 2020</time>
											<h4 class="title usmall">
												<a href="/resources/blogs/podman-guide.html">
                                                    The Ultimate Guide to Podman, Skopeo and Buildah
                                                </a>
											</h4>
										</div>
	
										<div class="clear"></div>
                                    </article>
                                    <article class="item">
										<div class="info">
											<time datetime="2020-06-30">March 10, 2020</time>
											<h4 class="title usmall">
												<a href="/resources/blogs/systemd.html">
                                                    systemd Timer – a Better Cron Replacement
                                                </a>
                                            </h4>
										</div>
	
										<div class="clear"></div>
                                    </article>
                                    <article class="item">
										<div class="info">
											<time datetime="2020-06-30">March 10, 2020</time>
											<h4 class="title usmall">
												<a href="/resources/blogs/tlog.html">
                                                    Red Hat 8 Native Session Recording solution (tlog)</div>
                                                </a>
                                            </h4>
                                        </div>
										<div class="clear"></div>
									</article>
								</div>
							</section>

						</aside>
					</div>
				</div>
			</div>
		</section>
		<!-- End Blog Details Area -->

        <!-- Footer Area -->
        <footer class="footer-area pt-100">
            <div class="container">
                <div class="row">
                    <div class="col-lg-4 col-md-6">
                        <div class="content">
                            <div class="logo">
                                <a href="index.html"><img src="/assets/images/logo.bmp" alt="logo" /></a>
                            </div>
                            <p>
                                The #1 Linux And Open Source Provider.
                            </p><br>
                            <h2 style="color: white"> 
                                Keep In Touch!
                            </h2><br>

                            <ul class="social">
                                <li>
                                    <a href="https://www.facebook.com/SmallServers/" target="_blank"><i class='bx bxl-facebook' ></i></a>
                                </li>
                                <li>
                                    <a href="https://twitter.com/Small_Sys_Sol" target="_blank"><i class='bx bxl-twitter' ></i></a>
                                </li>
                                <li>
                                    <a href="https://www.linkedin.com/company/small-systems-solutions/" target="_blank"> <i class="bx bxl-linkedin"></i></a>
                                </li>
                            </ul>
                        </div>
                    </div>
                    <div class="col-lg-3 col-md-6">
                        <div class="content ml-15">
                            <h3>Solutions</h3>
                            <ul class="footer-list">
                                <li><a href="/solutions/automation.html">Automation & Management</a></li>
                                <li><a href="/solutions/infra-monitoring.html">Infrastructure Monitoring</a></li>
                                <li><a href="/solutions/devops-monitoring.html">DevOps Monitoring</a></li>
                                <li><a href="/solutions/infra-security.html">Infrastructure Security</a></li>
                                <li><a href="/solutions/devops-security.html">DevOps Secuirity</a></li>
                            </ul>
                        </div>
                    </div>
                    <div class="col-lg-2 col-md-6">
                        <div class="content">
                            <h3>Quick Links</h3>
                            <ul class="footer-list">
                                <li><a href="/about/why-us.html">Why Open Source?</a></li>
                                <li><a href="faq.html">FAQ</a></li>
                                <li><a href="/solutions/solutions.html">Services</a></li>
                                <li><a href="training/redhat-courses.html">Training</a></li>
                                <li><a href="/resources/news/news.html">News</a></li>
                                <li><a href="/resources/blogs/blog.html">Blog</a></li>
                            </ul>
                        </div>
                    </div>
                    <div class="col-lg-3 col-md-6">
                        <div class="content contacts">
                            <h3 class="ml-40">Contact</h3>
                            <ul class="footer-list foot-social">
                                <li><a href="tel:+966-547737747"><i class="bx bx-mobile-alt"></i> +966-547737747</a></li>
                                <li><a href="tel:+96638913923"><i class="bx bx-phone"></i> +966 (3) 8913923</a></li>
                                <li><a href="mailto:gm@opensource.sa"><i class="bx bxs-envelope"></i> gm@opensource.sa</a></li>
                                <li><a href="mailto:support@opensource.sa"><i class="bx bxs-envelope"></i> support@opensource.sa</a></li>
                                <li><i class="bx bxs-map"></i>Riyadh - Dharan, Saudi Arabia</li>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>
            <div class="copy-area">
                <div class="container">
                    <div class="row">
                        <div class="col-lg-6">
                            <ul class="menu">
                                <li><a href="/index.html">Home</a></li>
                                <li><a href="/about/about.html">About</a></li>
                                <li><a href="/solutions/solutions.html">Solutions</a></li>
                                <li><a href="/resources/news/news.html">News</a></li>
                                <li><a href="/resources/blogs/blog.html">Blog</a></li>
                                <li><a href="/contact.html">Contact</a></li>
                            </ul>
                        </div>
                        <div class="col-lg-6">
                            <p class="right">
                                Copyright @2020 Open Source Solutions. 
                            </p>
                        </div>
                    </div>
                </div>
            </div>
        </footer>
        <!-- End Footer Area -->

        <!-- Start Go Top Area -->
        <div class="go-top">
            <i class='bx bx-chevrons-up'></i>
            <i class='bx bx-chevrons-up'></i>
        </div>
        <!-- End Go Top Area -->


        <!-- jQuery Min JS -->
        <script src="/assets/js/jquery-3.5.0.min.js"></script>
        <!-- Boostrap Js  -->
        <script src="/assets/js/popper.min.js"></script>
        <!-- Popper JS -->
        <script src="/assets/js/bootstrap.min.js"></script>
        <!-- MeanMenu JS -->
        <script src="/assets/js/jquery.meanmenu.js"></script>
        <!-- Magnific Popup Min JS -->
        <script src="/assets/js/jquery.magnific-popup.min.js"></script>
        <!-- Owl carasol Js -->
        <script src="/assets/js/owl.carousel.min.js"></script>
        <!-- Boxicon Js -->
        <script src="/assets/js/boxicons.js"></script>
        <!-- Wow js -->
        <script src="/assets/js/wow.min.js"></script>
        <!-- Isotope Js -->
        <script src="/assets/js/isotope.pkgd.min.js"></script>
        <!-- Form Ajaxchimp JS -->
        <script src="/assets/js/jquery.ajaxchimp.min.js"></script>
        <!-- Form Validator Js  -->
        <script src="/assets/js/form-validator.min.js"></script>
        <!-- Contact Form Js -->
        <script src="/assets/js/contact-form-script.js"></script>
        <!-- Main js -->
        <script src="/assets/js/main.js"></script>
    </body>
</html>